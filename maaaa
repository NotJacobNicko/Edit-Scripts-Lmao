local plr = game:GetService("Players").LocalPlayer


local Otherplr = nil

local proxymipromp = {}

workspace.DescendantAdded:Connect(function(obj)
	if obj:IsA("ProximityPrompt") then
		table.insert(proxymipromp,obj)
	end
end)
game:GetService("RunService").Heartbeat:Connect(function()
	if not Otherplr then
		for i,plaer in pairs(game:GetService("Players"):GetPlayers()) do
			if plaer ~= plr then 
				Otherplr = plaer
				break
			end
		end
	end
	task.spawn(function()
		for i,proxy in pairs(workspace:GetDescendants()) do
			if proxy:IsA("ProximityPrompt") and not table.find(proxymipromp,proxy) then
				table.insert(proxymipromp,proxy)
			end
		end
	end)
	if plr.Character then
		local plrroot = plr.Character:FindFirstChild("HumanoidRootPart")
		if Otherplr and Otherplr.Character then
			local otherroot = Otherplr.Character:FindFirstChild("HumanoidRootPart")
			plr.Character:MoveTo(otherroot.Position+Vector3.new(0,5,0))
		end
		
		for i,prox in pairs(proxymipromp) do
			if prox then
				local basePart = prox.Parent
				if basePart and basePart:IsA("BasePart") then
					local Mag = (plrroot.Position - basePart.Position).Magnitude
					
					if Mag <= 20 then
						prox.HoldDuration = 0
						fireproximityprompt(prox)
						break
					end
				end
			end
		end
	end
	
	
	
end)
